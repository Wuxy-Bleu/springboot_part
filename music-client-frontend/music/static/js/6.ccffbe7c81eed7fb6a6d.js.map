{"version":3,"sources":["webpack:///src/components/Comment.vue","webpack:///./src/components/Comment.vue?b290","webpack:///./src/components/Comment.vue","webpack:///src/pages/SongListAlbum.vue","webpack:///./src/pages/SongListAlbum.vue?3359","webpack:///./src/pages/SongListAlbum.vue"],"names":["Comment","name","mixins","props","playId","Number","type","data","commentList","userPic","userName","textarea","computed","extends_default","Object","vuex_esm","watch","id","this","getComment","mounted","methods","_this","api","then","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","getUsers","userId","err","return","catch","console","log","_this2","push","avator","postComment","_this3","loginIn","params","URLSearchParams","append","code","notify","postUp","up","index","_this4","$refs","children","style","color","components_Comment","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","length","attrs","placeholder","rows","model","callback","$$v","expression","on","click","$event","_l","key","src","alt","content","createTime","ref","refInFor","aria-hidden","xlink:href","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","SongListAlbum","components","AlbumContent","songLists","singers","count","songListId","value3","value5","created","tempList","getSongId","getRank","getSongList","$store","commit","pushValue","score","pages_SongListAlbum","attachImageUrl","pic","introduction","title","disabled","show-text","allow-half","songList","listOfSongs","slot"],"mappings":"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","file":"static/js/6.ccffbe7c81eed7fb6a6d.js","sourcesContent":["<template>\n  <div>\n    <div class=\"comment\">\n      <h2>\n        <span>评论</span>\n        <span class=\"part__tit_desc\">共 {{ commentList.length }} 条评论</span>\n      </h2>\n      <div class=\"comment-msg\">\n        <el-input\n          class=\"comment-input\"\n          type=\"textarea\"\n          placeholder=\"期待您的精彩评论...\"\n          :rows=\"2\"\n          v-model=\"textarea\"\n        >\n        </el-input>\n      </div>\n      <el-button type=\"primary\" class=\"sub-btn\" @click=\"postComment()\"\n        >发表评论</el-button\n      >\n    </div>\n    <ul class=\"popular\" v-for=\"(item, index) in commentList\" :key=\"index\">\n      <li>\n        <div class=\"popular-img\">\n          <!-- <img :src=\"attachImageUrl(userPic[index])\" alt=\"\" /> -->\n          <img :src=\"userPic[index]\" alt=\"\" />\n        </div>\n        <div class=\"popular-msg\">\n          <ul>\n            <li class=\"name\">{{ userName[index] }}</li>\n            <li class=\"content\">{{ item.content }}</li>\n            <li class=\"time\">{{ item.createTime }}</li>\n          </ul>\n        </div>\n        <div class=\"up\" ref=\"up\" @click=\"postUp(item.id, item.up, index)\">\n          <svg class=\"icon\" aria-hidden=\"true\">\n            <use xlink:href=\"#icon-zan\"></use>\n          </svg>\n          {{ item.up }}\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport mixin from \"../mixins\";\nimport { getUserOfId, setComment, setLike, getAllComment } from \"../api/index\";\n\nexport default {\n  name: \"comment\",\n  mixins: [mixin],\n  props: {\n    playId: Number, // 歌曲ID或歌单ID\n    type: Number // 歌单（1）/歌曲（0）\n  },\n  data() {\n    return {\n      commentList: [], // 存放评论内容\n      userPic: [], // 保存评论用户头像\n      userName: [], // 保存评论用户名字\n      textarea: \"\" // 存放输入内容\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"id\",\n      \"userId\", // 用户ID\n      \"index\", // 列表中的序号\n      \"loginIn\", // 用户是否登录\n      \"avator\" // 用户头像\n    ])\n  },\n  watch: {\n    id() {\n      this.getComment();\n    }\n  },\n  mounted() {\n    this.getComment();\n  },\n  methods: {\n    // 获取所有评论\n    getComment() {\n      getAllComment(this.type, this.playId)\n        .then(res => {\n          this.commentList = res.data;\n          for (let item of res.data) {\n            this.getUsers(item.userId);\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 获取评论用户的昵称和头像\n    getUsers(id) {\n      getUserOfId(id)\n        .then(res => {\n          this.userPic.push(res.data.avator);\n          this.userName.push(res.data.name);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 提交评论\n    postComment() {\n      if (this.loginIn) {\n        // 0 代表歌曲， 1 代表歌单\n        let params = new URLSearchParams();\n        if (this.type === 1) {\n          params.append(\"songListId\", this.playId);\n        } else if (this.type === 0) {\n          params.append(\"songId\", this.playId);\n        }\n        params.append(\"userId\", this.userId);\n        params.append(\"type\", this.type);\n        params.append(\"content\", this.textarea);\n        setComment(params)\n          .then(res => {\n            if (res.data.code === 1) {\n              this.textarea = \"\";\n              this.getComment();\n              this.notify(\"评论成功\", \"success\");\n            } else {\n              this.notify(\"评论失败\", \"error\");\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        this.notify(\"请先登录\", \"warning\");\n      }\n    },\n    // 点赞\n    postUp(id, up, index) {\n      if (this.loginIn) {\n        let params = new URLSearchParams();\n        params.append(\"id\", id);\n        params.append(\"up\", up + 1);\n        setLike(params)\n          .then(res => {\n            if (res.data.code === 1) {\n              this.$refs.up[index].children[0].style.color = \"#2796dd\";\n              this.getComment();\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        this.notify(\"请先登录\", \"warning\");\n      }\n    }\n  },\n  // created() {\n  //   console.log(this.userPic);\n  // }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/css/comment.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Comment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"comment\"},[_c('h2',[_c('span',[_vm._v(\"评论\")]),_vm._v(\" \"),_c('span',{staticClass:\"part__tit_desc\"},[_vm._v(\"共 \"+_vm._s(_vm.commentList.length)+\" 条评论\")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-msg\"},[_c('el-input',{staticClass:\"comment-input\",attrs:{\"type\":\"textarea\",\"placeholder\":\"期待您的精彩评论...\",\"rows\":2},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"sub-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.postComment()}}},[_vm._v(\"发表评论\")])],1),_vm._v(\" \"),_vm._l((_vm.commentList),function(item,index){return _c('ul',{key:index,staticClass:\"popular\"},[_c('li',[_c('div',{staticClass:\"popular-img\"},[_c('img',{attrs:{\"src\":_vm.userPic[index],\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"popular-msg\"},[_c('ul',[_c('li',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.userName[index]))]),_vm._v(\" \"),_c('li',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('li',{staticClass:\"time\"},[_vm._v(_vm._s(item.createTime))])])]),_vm._v(\" \"),_c('div',{ref:\"up\",refInFor:true,staticClass:\"up\",on:{\"click\":function($event){return _vm.postUp(item.id, item.up, index)}}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-zan\"}})]),_vm._v(\"\\n        \"+_vm._s(item.up)+\"\\n      \")])])])})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d106738\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Comment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8d106738\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Comment.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d106738\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8d106738\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Comment.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"song-list-album\">\n    <div class=\"album-slide\">\n      <div class=\"album-img\">\n        <img :src=\"attachImageUrl(singers.pic)\" alt=\"\" />\n      </div>\n      <div class=\"album-info\">\n        <h2>简介：</h2>\n        <span>\n          {{ singers.introduction }}\n        </span>\n      </div>\n    </div>\n    <div class=\"album-content\">\n      <div class=\"album-title\">\n        <p>{{ singers.title }}</p>\n      </div>\n      <!--评分-->\n      <div class=\"album-score\">\n        <div>\n          <h3>歌单评分：</h3>\n          <div>\n            <el-rate v-model=\"value5\" disabled></el-rate>\n          </div>\n        </div>\n        <span>{{ value5 * 2 }}</span>\n        <div>\n          <h3>评价：</h3>\n          <div @click=\"pushValue()\">\n            <el-rate v-model=\"value3\" show-text allow-half></el-rate>\n          </div>\n        </div>\n      </div>\n      <!--歌曲-->\n      <div class=\"songs-body\">\n        <album-content :songList=\"listOfSongs\">\n          <template slot=\"title\">歌单</template>\n        </album-content>\n        <comment :playId=\"songListId\" :type=\"1\"></comment>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport mixin from \"../mixins\";\nimport AlbumContent from \"../components/AlbumContent\";\nimport Comment from \"../components/Comment\";\nimport {\n  getRankOfSongListId,\n  setRank,\n  getSongOfId,\n  getListSongOfSongId\n} from \"../api/index\";\n\nexport default {\n  name: \"song-list-album\",\n  mixins: [mixin],\n  components: {\n    AlbumContent,\n    Comment\n  },\n  data() {\n    return {\n      songLists: [],\n      singers: {},\n      count: 0, // 点赞数\n      songListId: \"\", // 歌单ID\n      value3: 0,\n      value5: 0\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"loginIn\", // 登录标识\n      \"tempList\", // 单个歌单信息\n      \"listOfSongs\", // 存放的音乐\n      \"userId\", // 用户ID\n      \"avator\" // 用户头像\n    ])\n  },\n  created() {\n    this.songListId = this.tempList.id; // 给歌单ID赋值\n    this.singers = this.tempList; //这个取名很有问题啊 ，应该是歌单的信息啊，他怎么取名给singer啊\n    this.getSongId(); // 获取歌单里面的歌曲ID\n    this.getRank(this.songListId); // 获取评分\n  },\n  methods: {\n    // 收集歌单里面的歌曲\n    getSongId() {\n      getListSongOfSongId(this.songListId)\n        .then(res => {\n          // console.log(res.data);\n          // 获取歌单里的歌曲信息   拿到的是一个song的id数组\n          for (let item of res.data) {\n            this.getSongList(item);\n          }\n          this.$store.commit(\"setListOfSongs\", this.songLists);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 获取单里的歌曲\n    getSongList(id) {\n      getSongOfId(id)\n        .then(res => {\n          this.songLists.push(res.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 获取评分\n    getRank(id) {\n      getRankOfSongListId(id)\n        .then(res => {\n          this.value5 = res.data / 2; //获取到的评分为啥还除2啊\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    // 提交评分\n    pushValue() {\n      if (this.loginIn) {\n        // let params = new URLSearchParams();\n        // params.append(\"songListId\", this.songListId);\n        // params.append(\"consumerId\", this.userId);\n        // params.append(\"score\", this.value3 * 2);\n        var data = {};\n        data.songListId = this.songListId;\n        data.userId = this.userId;\n        data.score = this.value3 * 2;\n        console.log(data);\n\n        setRank(data)\n          .then(res => {\n            if (res.data.code === 1) {\n              this.getRank(this.songListId);\n              this.notify(\"评分成功\", \"success\");\n            } else {\n              this.notify(\"评分失败\", \"error\");\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        this.value3 = null;\n        this.notify(\"请先登录\", \"warning\");\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/css/song-list-album.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/SongListAlbum.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list-album\"},[_c('div',{staticClass:\"album-slide\"},[_c('div',{staticClass:\"album-img\"},[_c('img',{attrs:{\"src\":_vm.attachImageUrl(_vm.singers.pic),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"album-info\"},[_c('h2',[_vm._v(\"简介：\")]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.singers.introduction)+\"\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"album-content\"},[_c('div',{staticClass:\"album-title\"},[_c('p',[_vm._v(_vm._s(_vm.singers.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"album-score\"},[_c('div',[_c('h3',[_vm._v(\"歌单评分：\")]),_vm._v(\" \"),_c('div',[_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.value5),callback:function ($$v) {_vm.value5=$$v},expression:\"value5\"}})],1)]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.value5 * 2))]),_vm._v(\" \"),_c('div',[_c('h3',[_vm._v(\"评价：\")]),_vm._v(\" \"),_c('div',{on:{\"click\":function($event){return _vm.pushValue()}}},[_c('el-rate',{attrs:{\"show-text\":\"\",\"allow-half\":\"\"},model:{value:(_vm.value3),callback:function ($$v) {_vm.value3=$$v},expression:\"value3\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"songs-body\"},[_c('album-content',{attrs:{\"songList\":_vm.listOfSongs}},[_c('template',{slot:\"title\"},[_vm._v(\"歌单\")])],2),_vm._v(\" \"),_c('comment',{attrs:{\"playId\":_vm.songListId,\"type\":1}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3208433e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SongListAlbum.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3208433e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SongListAlbum.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SongListAlbum.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SongListAlbum.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3208433e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SongListAlbum.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3208433e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SongListAlbum.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}